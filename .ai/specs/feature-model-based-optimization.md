# Model-Based Performance Optimization - Notebook Prototype

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-02-14
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2026-02-16
> **–í–µ—Ç–∫–∞:** `feature/model-based-optimization`
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω
> **–ö–æ–º–º–∏—Ç:** e0fcdb8

---

## Workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–î–∞–Ω–Ω–æ–µ –¢–ó –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ **–≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–º—É workflow** –∏–∑ [CLAUDE.md](../../CLAUDE.md).

### –¢–∏–ø workflow: –ù–æ–≤–∞—è —Ñ–∏—á–∞

| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ            | –ù–∞–≤—ã–∫                                  | –°—Ç–∞—Ç—É—Å     |
| --- | ------------------- | -------------------------------------- | ---------- |
| –∞   | –°–æ–∑–¥–∞–Ω–∏–µ –¢–ó + –í–µ—Ç–∫–∞ | ‚Äî                                      | ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω |
| –±   | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è          | `spec-implementer`                     | ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω |
| –≤   | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ        | `gui-testing`                          | ‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω (notebook) |
| –≥   | –ú–µ—Ä–∂                | `merge-helper`                         | üîÑ –í —Ä–∞–±–æ—Ç–µ |

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–¢–µ–∫—É—â–∏–π —à–∞–≥:** –≥ (–ú–µ—Ä–∂) ‚Äî üîÑ –í —Ä–∞–±–æ—Ç–µ

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:**
- –≠—Ç–∞–ø 1: Baseline –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- –≠—Ç–∞–ø 2: Numba JIT –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚úÖ
- –≠—Ç–∞–ø 3: Solution caching ‚úÖ
- –≠—Ç–∞–ø 4: –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è ‚úÖ
- –≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª—å–Ω—ã–π benchmark ‚úÖ

**–û—Ç–ª–æ–∂–µ–Ω–æ (–æ—Ç–¥–µ–ª—å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ):**
- –≠—Ç–∞–ø—ã 6-9: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã DE, solve_ivp –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

## –í–∏–¥–µ–Ω–∏–µ

–£—Å–∫–æ—Ä–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Model-Based –∫–∏–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤ 100 —Ä–∞–∑ (—Å 5.7 —á–∞—Å–æ–≤ –¥–æ ~3 –º–∏–Ω—É—Ç –Ω–∞ 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π DE) –∑–∞ —Å—á—ë—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π: Numba JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏—è, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π –Ω–∞–≥—Ä–µ–≤–∞, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π.

**–í–ê–ñ–ù–û:** –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≤ –Ω–æ—É—Ç–±—É–∫–µ** `docs/ru/3_model_based.ipynb`. –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–∫–æ–¥ (`src/core/`) –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è –¥–æ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

**–ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **100x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** ‚Äî –≤—Ä–µ–º—è 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π DE —Å 3 Œ≤ –∏ 3 —Ä–µ–∞–∫—Ü–∏—è–º–∏: < 200 —Å–µ–∫
- **–°—Ç—Ä–æ–≥–∞—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å** ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ MSE < 1% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **Numba JIT** ‚Äî –∫–æ–º–ø–∏–ª—è—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥
- **Multiprocessing** ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ MSE –¥–ª—è —Ä–∞–∑–Ω—ã—Ö Œ≤
- **Solution caching** ‚Äî warm-start –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ—à–µ–Ω–∏–π

**Out of Scope (–¥–ª—è —ç—Ç–æ–≥–æ –¢–ó):**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∫–æ–¥ (`src/core/`)
- GUI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- GPU –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (CuPy, CUDA)
- Cython
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (JAX/diffrax, PyTorch/torchdiffeq)

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–∏–∑ –Ω–æ—É—Ç–±—É–∫–∞ docs/ru/3_model_based.ipynb)

| –ü—Ä–æ–±–ª–µ–º–∞ | –í–ª–∏—è–Ω–∏–µ |
|----------|---------|
| Timeout –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (threading) | –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è 97–º—Å –ø—Ä–∏ –ª–∏–º–∏—Ç–µ 50–º—Å |
| –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –û–î–£ –≤—ã–∑–æ–≤—ã –¥–ª—è 3 Œ≤ | 3x slowdown |
| –ß–∏—Å—Ç—ã–π Python ode_function | Dict lookup, O(n) index –≤ —Ü–∏–∫–ª–µ |
| –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è | –ù–µ—Ç warm-start –¥–ª—è DE |

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (baseline –∏–∑ –Ω–æ—É—Ç–±—É–∫–∞)

| –ú–µ—Ç—Ä–∏–∫–∞ | Current | Target | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|---------|---------|--------|-----------|
| 5 –∏—Ç–µ—Ä–∞—Ü–∏–π DE | 102 —Å–µ–∫ | ~1 —Å–µ–∫ | 100x |
| 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π DE | 20568 —Å–µ–∫ (5.7—á) | < 200 —Å–µ–∫ | 100x |
| –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –û–î–£ | 97 –º—Å | < 1 –º—Å | 100x |

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

> **–û–±–ª–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è **—Ç–æ–ª—å–∫–æ** –≤ `docs/ru/3_model_based.ipynb`.
> –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–∫–æ–¥ `src/core/` –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è.

### –≠—Ç–∞–ø 1: Baseline –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –Ω–æ—É—Ç–±—É–∫–µ (~50 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –Ω–æ—É—Ç–±—É–∫–µ –∫–∞–∫ baseline –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å —è—á–µ–π–∫—É —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –∑–∞–º–µ—Ä–æ–º –≤—Ä–µ–º–µ–Ω–∏: ode_function, solve_ivp, total
- [ ] –ó–∞–ø–∏—Å–∞—Ç—å baseline: ~97 –º—Å –Ω–∞ –û–î–£, ~102 —Å–µ–∫ –Ω–∞ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π DE
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å —Ü–µ–ª–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ (100x —É—Å–∫–æ—Ä–µ–Ω–∏–µ)

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb` (–¥–æ–±–∞–≤–∏—Ç—å —è—á–µ–π–∫–∏ –ø–æ—Å–ª–µ —Å–µ–∫—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- Baseline –º–µ—Ç—Ä–∏–∫–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ output —è—á–µ–π–∫–∏
- –Ø—Å–Ω–æ –≤–∏–¥–Ω–æ —Ç–µ–∫—É—â–∏–µ bottlenecks

---

### –≠—Ç–∞–ø 2: Numba JIT –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ode_function (~100 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** JIT-—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é `ode_function` –≤ –Ω–æ—É—Ç–±—É–∫–µ.

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å —è—á–µ–π–∫—É —Å `from numba import njit`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ode_function_numba()` —Å `@njit`:
  - –ó–∞–º–µ–Ω–∞ dict lookup –Ω–∞ array indexing –¥–ª—è –º–æ–¥–µ–ª–µ–π
  - –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤–Ω–µ —Ü–∏–∫–ª–∞
  - –¢–∞–±–ª–∏—Ü–∞ –º–æ–¥–µ–ª–µ–π –∫–∞–∫ numba-compatible array
- [ ] –°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É `integrate_ode_for_beta_numba()` —Å Numba-–≤–µ—Ä—Å–∏–µ–π
- [ ] –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç: old vs new ‚Äî –≤—ã–≤–µ—Å—Ç–∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb` (–Ω–æ–≤—ã–µ —è—á–µ–π–∫–∏)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- `ode_function_numba()` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 10-50x –±—ã—Å—Ç—Ä–µ–µ Python –≤–µ—Ä—Å–∏–∏
- MSE –∏–¥–µ–Ω—Ç–∏—á–µ–Ω (–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ < 0.1%)
- –í output —è—á–µ–π–∫–∏ –≤–∏–¥–Ω–æ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

---

### –≠—Ç–∞–ø 3: Solution caching (warm-start) (~80 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –û–î–£ –¥–ª—è warm-start –ø—Ä–∏ –±–ª–∏–∑–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö DE.

**–ó–∞–¥–∞—á–∏:**
- [x] –î–æ–±–∞–≤–∏—Ç—å —è—á–µ–π–∫—É —Å –∫–ª–∞—Å—Å–æ–º `SolutionCache` (dict + LRU)
- [x] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `integrate_ode_for_beta_cached()` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `y0_hint`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å discretization —Å param_bins=5 –¥–ª—è –ª—É—á—à–µ–≥–æ hit rate
- [x] –ò–∑–º–µ—Ä–∏—Ç—å hit rate –∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ –Ω–æ—É—Ç–±—É–∫–µ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `param_bins=5` –≤–º–µ—Å—Ç–æ 10 (coarser discretization = –±–æ–ª—å—à–µ hits)
- Variation 0.02 –≤–º–µ—Å—Ç–æ 0.05 –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ DE —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb` (—è—á–µ–π–∫–∏ 14, 21)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- ‚úÖ Cache hit rate > 30% –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π DE
- ‚úÖ Memory overhead < 100 MB

---

### –≠—Ç–∞–ø 4: –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è multiprocessing (~80 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ MSE –¥–ª—è —Ä–∞–∑–Ω—ã—Ö Œ≤.

**–ó–∞–¥–∞—á–∏:**
- [x] –î–æ–±–∞–≤–∏—Ç—å —è—á–µ–π–∫—É —Å —Ç–µ—Å—Ç–∞–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `ThreadPoolExecutor` (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ GIL)
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `differential_evolution(workers=-1)` ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç!
- [x] –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç: sequential vs parallel DE

**–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ThreadPoolExecutor –¥–∞—ë—Ç –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ 0.7x –∏–∑-–∑–∞ GIL (CPU-bound –∑–∞–¥–∞—á–∞)
- –î–ª—è –º–∞–ª–æ–≥–æ —á–∏—Å–ª–∞ Œ≤ (3) overhead multiprocessing > benefit
- DE —Å `workers=-1` –¥–∞—ë—Ç –Ω–µ–±–æ–ª—å—à–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞ —Å—á—ë—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb` (—è—á–µ–π–∫–∞ 23)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å `workers=-1` –≤ DE
- ‚ö†Ô∏è –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∏—Å–ª–∞ —è–¥–µ—Ä –∏ —á–∏—Å–ª–∞ Œ≤

---

### –≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª—å–Ω—ã–π benchmark –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è (~50 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –î–æ–∫–∞–∑–∞—Ç—å —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –≤ –Ω–æ—É—Ç–±—É–∫–µ.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- `param_bins=5` –¥–ª—è –ª—É—á—à–µ–≥–æ cache hit rate
- `workers=-1` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–∏ DE
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `objective_function_optimized()`

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb` (—è—á–µ–π–∫–∞ 25)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- ‚úÖ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–æ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ Cache hit rate > 30% –ø—Ä–∏ DE —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** MSE –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏, —Ç.–∫. DE ‚Äî —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥. –ó–∞ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π –æ–Ω –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –Ω–∞–π—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º—É–º. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

### –≠—Ç–∞–ø 6: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã differential_evolution (~150 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚¨ú –ù–µ –Ω–∞—á–∞—Ç

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä —á–µ–º DE –¥–ª—è ODE-based –∑–∞–¥–∞—á–∏.

**–ö–∞–Ω–¥–∏–¥–∞—Ç—ã:**
| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ |
|-------|----------|--------------|
| **CMA-ES** | Covariance Matrix Adaptation | –ó–æ–ª–æ—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, 10-100x –±—ã—Å—Ç—Ä–µ–µ DE |
| **dual_annealing** | Simulated annealing + local | –•–æ—Ä–æ—à –¥–ª—è multimodal —Ñ—É–Ω–∫—Ü–∏–π |
| **shgo** | Simplicial Homology Global | –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º—É–º –¥–ª—è Lipschitz —Ñ—É–Ω–∫—Ü–∏–π |
| **Optuna CMA-ES** | CMA-ES —Å pruning | Early stopping –ø–ª–æ—Ö–∏—Ö trials |
| **Basin-hopping** | MH + local search | –•–æ—Ä–æ—à –¥–ª—è "bumpy" –ª–∞–Ω–¥—à–∞—Ñ—Ç–æ–≤ |

**–ó–∞–¥–∞—á–∏:**
- [ ] –¢–µ—Å—Ç CMA-ES (pycma) vs DE –Ω–∞ 100 evaluations
- [ ] –¢–µ—Å—Ç scipy.dual_annealing vs DE
- [ ] –¢–µ—Å—Ç Optuna —Å CMA-ES sampler
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å –≤—Ä–µ–º—è –¥–æ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–Ω–µ —á–∏—Å–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–π)
- [ ] –ò–∑–º–µ—Ä–∏—Ç—å overhead –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb`

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- –í—Ä–µ–º—è –¥–æ MSE < 0.01 —É–º–µ–Ω—å—à–µ–Ω–æ –≤ 5-10x vs DE
- –ò–ª–∏: —á–∏—Å–ª–æ evaluations –¥–ª—è —Ç–æ–≥–æ –∂–µ MSE —É–º–µ–Ω—å—à–µ–Ω–æ

---

### –≠—Ç–∞–ø 7: –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è best optimizer (~80 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚¨ú –ù–µ –Ω–∞—á–∞—Ç

**–¶–µ–ª—å:** –°–æ–≤–º–µ—Å—Ç–∏—Ç—å –ª—É—á—à–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏–µ–π.

**–ó–∞–¥–∞—á–∏:**
- [ ] –ï—Å–ª–∏ best = DE: —Ç–µ—Å—Ç —Å workers=-1 (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è)
- [ ] –ï—Å–ª–∏ best = CMA-ES: —Ç–µ—Å—Ç —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π fitness
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å sequential vs parallel –¥–ª—è best optimizer
- [ ] –§–∏–Ω–∞–ª—å–Ω—ã–π benchmark: –≤—Ä–µ–º—è –¥–æ MSE < threshold

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb`

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- –í—Ä–µ–º—è –¥–æ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–º–µ–Ω—å—à–µ–Ω–æ –≤ 2-5x vs sequential best optimizer

---

### –≠—Ç–∞–ø 8: solve_ivp –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (~80 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚¨ú –ù–µ –Ω–∞—á–∞—Ç

**–¶–µ–ª—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º solve_ivp –≤—ã–∑–æ–≤ (–≤–æ–∑–º–æ–∂–Ω–æ, –≥–ª–∞–≤–Ω—ã–π bottleneck).

**–ó–∞–¥–∞—á–∏:**
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å –º–µ—Ç–æ–¥—ã: BDF vs RK45 vs LSODA vs Radau
- [ ] –¢–µ—Å—Ç rtol/atol –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (looser tolerance = –±—ã—Å—Ç—Ä–µ–µ)
- [ ] –ê–Ω–∞–ª–∏–∑ —á–∏—Å–ª–∞ —à–∞–≥–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä–∞ (nfev)
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤—Ä–µ–º—è –≤ solve_ivp vs –≤ ode_function

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb`

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- –í—Ä–µ–º—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —É–º–µ–Ω—å—à–µ–Ω–æ –≤ 2-5x
- MSE —Å–æ—Ö—Ä–∞–Ω—ë–Ω (–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ < 5%)

---

### –≠—Ç–∞–ø 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (~50 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚¨ú –ù–µ –Ω–∞—á–∞—Ç

**–¶–µ–ª—å:** –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏—Ç–æ–≥–æ–≤–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

**–ó–∞–¥–∞—á–∏:**
- [ ] –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ benchmark —Å best –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å baseline: –≤—Ä–µ–º—è, —á–∏—Å–ª–æ evaluations
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Ç–æ–≥–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

**–§–∞–π–ª—ã:**
- `docs/ru/3_model_based.ipynb`

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ ‚â•10x** –æ—Ç baseline (5 –∏—Ç–µ—Ä–∞—Ü–∏–π DE = 102 —Å–µ–∫ ‚Üí < 10 —Å–µ–∫)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∏–Ω—Å–∞–π—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

### –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (–æ—Ç–¥–µ–ª—å–Ω–æ–µ –¢–ó)

–ü–æ—Å–ª–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –Ω–æ—É—Ç–±—É–∫–µ ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¢–ó –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω (`src/core/`).

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases

| –°—Ü–µ–Ω–∞—Ä–∏–π | –û–±—Ä–∞–±–æ—Ç–∫–∞ |
|----------|-----------|
| Timeout –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | Soft penalty: MSE=1e4, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| NaN/Inf –≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö | Soft penalty: MSE=1e4, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ |
| –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | Clip to bounds –≤–Ω—É—Ç—Ä–∏ ode_function |
| –ü—É—Å—Ç–æ–π cache | –û–±—ã—á–Ω–æ–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ warm-start |
| –û—à–∏–±–∫–∞ –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —à—Ç—Ä–∞—Ñ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ Œ≤ |

---

## Benchmark –¥–∞–Ω–Ω—ã–µ

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä (NH4NO3):**
- –°–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞–≥—Ä–µ–≤–∞ Œ≤: 3, 5, 10 K/min
- –°—Ö–µ–º–∞ —Ä–µ–∞–∫—Ü–∏–π: A ‚Üí B ‚Üí C ‚Üí D (3 —Ä–µ–∞–∫—Ü–∏–∏)
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Ç–æ—á–∫–∏: 490 –Ω–∞ –∫—Ä–∏–≤—É—é
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã DE: maxiter=1000, popsize=50, workers=6

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞       | –≠—Ç–∞–ø | –ö–æ–º–º–∏—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                                          |
| ---------- | ---- | ------ | ------------------------------------------------- |
| 2026-02-16 | MERGE | e0fcdb8 | –≠—Ç–∞–ø—ã 1-5 –∑–∞–≤–µ—Ä—à–µ–Ω—ã, merge –≤ main |
| 2026-02-15 | 3-5  | ‚Äî      | –≠—Ç–∞–ø—ã 3-5 –∑–∞–≤–µ—Ä—à–µ–Ω—ã: cache hit rate, DE workers=-1 |
| 2026-02-14 | 6-9  | ‚Äî      | –î–æ–±–∞–≤–ª–µ–Ω—ã —ç—Ç–∞–ø—ã: –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã DE, solve_ivp, –∏—Ç–æ–≥–∏ |
| 2026-02-14 | -    | ‚Äî      | –£–±—Ä–∞–Ω –∞–Ω–∞–ª–∏–∑ MSE (DE —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π)              |
| 2026-02-14 | -    | ‚Äî      | –¢–ó –∏–∑–º–µ–Ω–µ–Ω–æ: –æ–±–ª–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã ‚Üí —Ç–æ–ª—å–∫–æ –Ω–æ—É—Ç–±—É–∫      |
| 2026-02-14 | -    | e1c333b | –¢–ó —Å–æ–∑–¥–∞–Ω–æ (IEEE 29148: 89%)                      |
