# Python 3.13 + uv Migration - Feature Specification

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-02-13
> **–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2026-02-13
> **–í–µ—Ç–∫–∞:** `feature/python-3.13-uv-migration`
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω
> **–ö–æ–º–º–∏—Ç:** 24c76d2

---

## Workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–î–∞–Ω–Ω–æ–µ –¢–ó –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ **–≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–º—É workflow** –∏–∑ [CLAUDE.md](../../CLAUDE.md).

### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤–æ–π —Ñ–∏—á–∏

| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ            | –ù–∞–≤—ã–∫                                  | –°—Ç–∞—Ç—É—Å     |
| --- | ------------------- | -------------------------------------- | ---------- |
| –∞   | –°–æ–∑–¥–∞–Ω–∏–µ –¢–ó + –í–µ—Ç–∫–∞ | ‚Äî                                      | ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω |
| –±   | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è          | `spec-implementer`                     | ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω |
| –≤   | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ        | `gui-testing`                          | ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω |
| –≥   | –ú–µ—Ä–∂                | `merge-helper`                         | üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**–¢–µ–∫—É—â–∏–π —à–∞–≥:** –≥ (–ú–µ—Ä–∂) ‚Äî üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- CHANGELOG –æ–±–Ω–æ–≤–ª—ë–Ω

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Merge –≤ main

---

## –í–∏–¥–µ–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–µ–∫: Python 3.13, uv –≤–º–µ—Å—Ç–æ Poetry, –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–≤–∫–ª—é—á–∞—è NumPy 2.x). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, security fixes –∏ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

**–ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Python 3.13
- –ó–∞–º–µ–Ω–∞ Poetry –Ω–∞ uv
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- –£–¥–∞–ª–µ–Ω–∏–µ Numba (81 —Ñ—É–Ω–∫—Ü–∏—è @njit ‚Üí pure NumPy)
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ NumPy 2.x
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (533 —Ç–µ—Å—Ç–∞ –∑–µ–ª—ë–Ω—ã–µ)

---

## –ê–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–Ω–µ—Ç | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|------------|------|--------|------------|
| Python | 3.12.x | 3.13 | ‚Äî |
| Package Manager | Poetry | uv | ‚Äî |
| PyQt6 | ^6.6.1 | ^6.9.0 | ‚Äî |
| Matplotlib | 3.8.3 (fixed) | ^3.10.0 | –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å |
| NumPy | ^1.26.4 | ^2.2.0 | Breaking changes —É—á—Ç–µ–Ω—ã |
| Pandas | ^2.2.1 | ^2.2.0 | ‚Äî |
| SciPy | ^1.13.1 | ^1.15.0 | ‚Äî |
| Numba | ^0.61.0 | ‚ùå –£–¥–∞–ª–∏—Ç—å | 81 —Ñ—É–Ω–∫—Ü–∏—è ‚Üí pure NumPy |
| Optuna | ^4.1.0 | ^4.2.0 | ‚Äî |
| Joblib | ^1.4.2 | ^1.4.0 | ‚Äî |
| PyInstaller | ^6.7.0 | ^6.12.0 | ‚Äî |
| Pytest | ^8.0.2 | ^8.3.0 | ‚Äî |
| Ruff | ^0.5.1 | ^0.9.0 | ‚Äî |
| Black | ^24.8.0 | ^25.1.0 | ‚Äî |
| Mypy | ^1.8.0 | ^1.15.0 | ‚Äî |

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: Python 3.13 + –£–¥–∞–ª–µ–Ω–∏–µ Numba (~200 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é Python –∏ —É–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Numba

**–ó–∞–¥–∞—á–∏:**
- [x] –û–±–Ω–æ–≤–∏—Ç—å `requires-python` –≤ pyproject.toml –Ω–∞ `>=3.13`
- [x] –£–¥–∞–ª–∏—Ç—å `numba = "^0.61.0"` –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [x] –£–¥–∞–ª–∏—Ç—å `from numba import njit` –∏–∑ app_settings.py
- [x] –°–Ω—è—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `@njit` —Å 81 —Ñ—É–Ω–∫—Ü–∏–∏ –≤ app_settings.py
- [x] –û–±–Ω–æ–≤–∏—Ç—å `[tool.ruff] target-version` –Ω–∞ `"py313"`
- [x] –û–±–Ω–æ–≤–∏—Ç—å `[tool.mypy] python_version` –Ω–∞ `"3.13"`

**–§–∞–π–ª—ã:**
- `pyproject.toml` (modify)
- `src/core/app_settings.py` (modify)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- `ruff check src/` ‚Äî –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ numba

---

### –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ + NumPy 2.x (~100 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

**–ó–∞–¥–∞—á–∏:**
- [x] –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö dependencies –≤ pyproject.toml
- [x] –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏ dev-dependencies
- [x] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ–¥ NumPy 2.x API changes (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å SciPy —Å NumPy 2.x

**–§–∞–π–ª—ã:**
- `pyproject.toml` (modify)
- `src/**/*.py` (modify –µ—Å–ª–∏ –µ—Å—Ç—å NumPy 2.x breaking changes)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- `pytest tests/` ‚Äî –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- `python -m src.gui` ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

---

### –≠—Ç–∞–ø 3: –ú–∏–≥—Ä–∞—Ü–∏—è Poetry ‚Üí uv (~80 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω

**–¶–µ–ª—å:** –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ uv –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤

**–ó–∞–¥–∞—á–∏:**
- [x] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å pyproject.toml –≤ —Ñ–æ—Ä–º–∞—Ç uv (PEP 621)
- [x] –°–æ–∑–¥–∞—Ç—å `.python-version` —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º `3.13`
- [x] –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ü–∏–∏ `[tool.poetry.*]`
- [x] –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é `[project]` —Å metadata
- [x] –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é `[dependency-groups]` –¥–ª—è dev deps
- [x] –£–¥–∞–ª–∏—Ç—å `poetry.lock` (–±—É–¥–µ—Ç –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ `uv.lock`)
- [x] –û–±–Ω–æ–≤–∏—Ç—å `[build-system]` –Ω–∞ hatchling –∏–ª–∏ flit

**–§–∞–π–ª—ã:**
- `pyproject.toml` (rewrite)
- `.python-version` (create)
- `poetry.lock` (delete)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏—ë–º–∫–∏:**
- `uv sync` ‚Äî —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—ë—Ç venv –∏ install
- `uv run pytest tests/` ‚Äî –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- `uv run python -m src.gui` ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

---

## –ò—Ç–æ–≥–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ö–æ–º–∞–Ω–¥–∞ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|---------|---------------------|
| –¢–µ—Å—Ç—ã | `pytest tests/` | 533 passed |
| Lint | `ruff check src/` | No errors |
| Type check | `mypy src/` | No errors |
| GUI | `python -m src.gui` | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è |
| Sync | `uv sync` | –£—Å–ø–µ—à–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ |

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞       | –≠—Ç–∞–ø | –ö–æ–º–º–∏—Ç | –û–ø–∏—Å–∞–Ω–∏–µ               |
| ---------- | ---- | ------ | ---------------------- |
| 2026-02-13 | ‚Äî    | 9de69bf | –¢–ó —Å–æ–∑–¥–∞–Ω–æ             |
| 2026-02-13 | 1    | de7b557 | Python 3.13 + —É–¥–∞–ª–µ–Ω–∏–µ Numba |
| 2026-02-13 | 2    | 6dfb4d3 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ + NumPy 2.x |
| 2026-02-13 | 3    | a796de6 | –ú–∏–≥—Ä–∞—Ü–∏—è Poetry ‚Üí uv |
